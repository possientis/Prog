\begin{defin}\label{logic:def:LAM:valid:substitution}
    Let $V$ and $W$ be sets and $\sigma:V\to W$ be a map. Let
    $\phi\in\tv$. We say that $\sigma$ is {\em valid for} $\phi$ \ifand\
    for every sub-formula $\psi\preceq\phi$ we have:
    \[
        x\in\free(\psi)\ \Rightarrow\ \sigma(x)\in\free(\sigma(\psi))
    \]
    where $\sigma:\tv\to{\bf T}(W)$ also denotes the associated substitution 
    mapping.
\end{defin}

\begin{prop}\label{logic:prop:LAM:valid:subformula}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$. 
    Then $\sigma$ is valid for $\phi$ \ifand\ it is valid for any sub-formula 
    $\psi\preceq\phi$.
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:valid:free:commute}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$. 
    Then $\sigma$ is valid for $\phi$ \ifand\ for every sub-formula 
    $\psi\preceq\phi$ we have:
    \[
        \free(\sigma(\psi)) =\sigma(\free(\psi))
    \]
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:valid:injective}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$ 
    such that $\sigma_{|\var(\phi)}$ is an injective map. Then $\sigma$ 
    is valid for $\phi$.
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:valid:recursion:imp}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$ 
    of the form $\phi=\phi_{1}\ \phi_{2}$ with $\phi_{1},\phi_{2}\in\tv$. 
    Then $\sigma$ is valid for $\phi$ \ifand\ it is valid for both $\phi_{1}$ 
    and $\phi_{2}$.
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:valid:recursion:quant}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$ 
    of the form $\phi=\lambda x\phi_{1}$ with $\phi_{1}\in\tv$ and $x\in V$. 
    Then $\sigma$ is valid for $\phi$ \ifand\ it is valid for $\phi_{1}$ 
    and for all $u\in V$ we have:
    \[
        u\in\free(\lambda x\phi_{1})\ \Rightarrow\ \sigma(u)\neq\sigma(x)
    \]
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:validsub:criterion}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$. 
    Then $\sigma$ is valid for $\phi$ \ifand\ for all $\phi_{1}\in\tv$ 
    and $x\in V$ we have:
    \[
        (\lambda x\phi_{1}\preceq\phi)\ 
            \Rightarrow\ 
            [\ 
                u\in\free(\lambda x\phi_{1})\ 
                    \Rightarrow\
                \sigma(u)\neq\sigma(x)
            \ ]
    \]
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:validsub:singlevar}
    Let $V$ be a set and $x,y\in V$. Let $\phi\in\tv$. Then we have:
    \[
        y\not\in\var(\phi)\ 
            \Rightarrow\ 
        (\mbox{$[y/x]$ valid for $\phi$})
    \]
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:valid:composition}
    Let $U$, $V$, $W$ be sets and $\tau:U\to V$ and $\sigma:V\to W$ be
    maps. Then for all $\phi\in{\bf T}(U)$ we have the equivalence:
    \[
        (\mbox{$\tau$ valid for $\phi$})\land(\mbox{$\sigma$ valid for
        $\tau(\phi)$})\ 
            \Leftrightarrow\ 
        (\mbox{$\sigma\circ\tau$ valid for $\phi$})
    \]
    where $\tau:{\bf T}(U)\to{\bf T}(V)$ also denotes the associated
    substitution mapping.
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:validsub:image}
    Let $V,W$ be sets and $\sigma,\tau:V\to W$ be maps. Let $\phi\in\tv$
    such that the equality $\sigma(\phi)=\tau(\phi)$ holds. Then we have
    the equivalence:
    \[
        (\mbox{$\sigma$ valid for $\phi$})\ 
            \Leftrightarrow\
        (\mbox{$\tau$ valid for $\phi$})
    \]
\end{prop}
\begin{proof}
TODO
\end{proof}

\begin{prop}\label{logic:prop:LAM:validsub:minimalextension}
    Let $V$, $W$ be sets and $\sigma:V\to W$ be a map. Let $\phi\in\tv$.
    We assume that there exists a subset $V_{0}\subseteq V$ with the
    following properties:
    \begin{eqnarray*}
        (i)&&\bound(\phi)\subseteq V_{0}
        \\
        (ii)&&\mbox{$\sigma_{|V_{0}}$ is injective}
        \\
        (iii)&&\sigma(V_{0})\cap\sigma(\var(\phi)\setminus V_{0})=\emptyset
    \end{eqnarray*}
    Then the map $\sigma:V\to W$ is valid for the formula $\phi\in\pv$.
\end{prop}
\begin{proof}
TODO
\end{proof}
