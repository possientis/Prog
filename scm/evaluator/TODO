continue unit testing of analyze
change semantics of apply

